## 33. 搜索旋转排序数组

### 选择题

**1. 在一个旋转排序数组中搜索给定值的最佳方法是？**

A. 线性搜索

B. 二分搜索

C. 插值搜索

D. 斐波那契搜索

<details>
  <summary>正确答案</summary>答案： B. 二分搜索
</details>

**2. 给定旋转排序数组 `[4,5,6,7,0,1,2]` 和目标值 `0`，目标值的索引是多少？**

A. 0

B. 4

C. 5

D. 7

<details>
  <summary>正确答案</summary>
  <p>答案：B. 4</p>
</details>

**3. 当旋转排序数组中没有重复元素时，如何判断一个子区间是否是递增的？**

A) 检查子区间的首尾元素

B) 只需检查子区间的首元素

C) 只需检查子区间的尾元素

D) 检查子区间的中间元素

<details>
  <summary>正确答案</summary>A) 检查子区间的首尾元素
</details>

**4. 在旋转排序数组中搜索一个值时，如果中间元素不等于目标值，则下一步应该是？**

A) 搜索左半部分

B) 搜索右半部分

C) 旋转数组后再搜索

D) 重新排序数组后搜索

<details>
  <summary>正确答案</summary>答案：根据中间元素与目标值的比较以及中间元素与端点元素的比较来决定是搜索左半部分还是右半部分，因此此题答案不单一，取决于具体情况。
</details>

### 填空题

**1. 在进行旋转排序数组的二分搜索时，若中间元素大于最右边元素，则左半部分________。**
<details>
  <summary>正确答案</summary>答案：是有序的
</details>

**2. 在旋转排序数组中进行搜索时，如果目标值大于中间值且目标值位于左排序数组中，那么我们应该________搜索范围。**
<details>
  <summary>正确答案</summary>答案：减小
</details>

**3. 如果在旋转排序数组中找到了目标值，返回其索引；如果没有找到，返回________。**
<details>
  <summary>正确答案</summary>-1
</details>

**4. 旋转排序数组意味着数组至少被旋转了________次。**
<details>
  <summary>正确答案</summary>一
</details>

### 编码实践题

**题目：** 尝试编写一个函数，用于在旋转排序数组中搜索一个给定的目标值。如果找到目标值则返回索引，否则返回 `-1`。

<details>
  <summary>正确答案</summary>

```python
def search(nums, target):
    if not nums:
        return -1
    low, high = 0, len(nums) - 1
    while low <= high:
        mid = (low + high) // 2
        if target == nums[mid]:
            return mid
        if nums[low] <= nums[mid]:  # 左半边有序
            if nums[low] <= target <= nums[mid]:  # 目标在左半边
                high = mid - 1
            else:
                low = mid + 1
        else:  # 右半边有序
            if nums[mid] <= target <= nums[high]:  # 目标在右半边
                low = mid + 1
            else:
                high = mid - 1
    return -1
```
### 函数逻辑分析

1. **二分查找应用**：该函数采用了二分查找的方法，适应了旋转排序数组的特点，即数组被分为至少一个有序的子数组。

2. **判断有序部分**：通过比较中间元素与端点元素的值，确定哪一半是有序的。

3. **缩小搜索范围**：根据目标值与中间值的比较，以及目标值是否在有序部分中，决定是搜索左半部分还是右半部分。

4. **返回结果**：如果找到目标值，则返回其索引；否则，在结束循环后返回`-1`。

### 逻辑验证

- **标准情况**：对于一个典型的输入，如数组`[4,5,6,7,0,1,2]`和目标数`0`，函数能正确返回目标数的索引`4`。

- **边界情况**：
  - 数组未旋转（完全有序）：函数应正常工作。
  - 目标值不在数组中：函数返回`-1`。

- **特殊情况**：
  - 数组长度为`1`：函数应正确处理。
  - 目标值是数组的首元素或尾元素：函数能正确识别并返回相应的索引。

### 结论

该`search`函数能够有效处理旋转排序数组的搜索问题，无论数组如何旋转，都能在对数时间复杂度内找到（或确认不存在）给定的目标值。
</details>

### 时间复杂度分析题

**题目：** 分析在旋转排序数组中搜索一个值的时间复杂度。

<details>
  <summary>正确答案</summary>答案：O(log n)。尽管数组被旋转，但二分搜索确保了对数级的时间复杂度。
</details>

### 实际应用讨论题

**题目：** 讨论在旋转排序


### 实际应用讨论题

**题目：** 讨论在实际软件开发中，旋转排序数组这种数据结构可能在哪些场景下被用到。

<details>
  <summary>正确答案</summary>可能的答案：系统日志文件、循环队列的实现、时间序列数据的处理等，特别是当数据被循环存储或者有序数据集合需要在某一点断开后重新开始排列时。
</details>
